/**
 * Generated by orval v7.13.2 ğŸº
 * Do not edit manually.
 * K-Culture Web API
 * ë°°ìš°ë‹´(K-Culture Web) í”Œë«í¼ API ëª…ì„¸ì„œ

## ê°œìš”
- ë°°ìš°ì™€ ì—ì´ì „ì‹œë¥¼ ì—°ê²°í•˜ëŠ” AI ê¸°ë°˜ ìºìŠ¤íŒ… í”Œë«í¼
- ì‹œë†‰ì‹œìŠ¤ ê¸°ë°˜ ë°°ìš° ì¶”ì²œ, í”„ë¡œì íŠ¸ ê´€ë¦¬, í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ ê¸°ëŠ¥ ì œê³µ

## ì¸ì¦
- JWT Bearer Token ê¸°ë°˜ ì¸ì¦
- Access Token ìœ íš¨ê¸°ê°„: 1ì‹œê°„
- Refresh Token ìœ íš¨ê¸°ê°„: 7ì¼

 * OpenAPI spec version: 1.0.0
 */
import { useMutation } from "@tanstack/react-query";
import type { MutationFunction, QueryClient, UseMutationOptions, UseMutationResult } from "@tanstack/react-query";

import { customFetch } from "../../lib/fetcher";
import type { BodyType, ErrorType } from "../../lib/fetcher";
import type {
  ErrorResponse,
  UnauthorizedErrorResponse,
  UploadImage200,
  UploadImageBody,
  UploadVideo200,
  UploadVideoBody,
} from ".././model";

/**
 * @summary ì´ë¯¸ì§€ ì—…ë¡œë“œ
 */
export const uploadImage = (uploadImageBody: BodyType<UploadImageBody>, signal?: AbortSignal) => {
  const formData = new FormData();
  formData.append(`file`, uploadImageBody.file);
  formData.append(`type`, uploadImageBody.type);

  return customFetch<UploadImage200>({
    url: `/api/upload/image`,
    method: "POST",
    headers: { "Content-Type": "multipart/form-data" },
    data: formData,
    signal,
  });
};

export const getUploadImageMutationOptions = <
  TError = ErrorType<ErrorResponse | UnauthorizedErrorResponse>,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof uploadImage>>,
    TError,
    { data: BodyType<UploadImageBody> },
    TContext
  >;
}): UseMutationOptions<
  Awaited<ReturnType<typeof uploadImage>>,
  TError,
  { data: BodyType<UploadImageBody> },
  TContext
> => {
  const mutationKey = ["uploadImage"];
  const { mutation: mutationOptions } = options
    ? options.mutation && "mutationKey" in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey } };

  const mutationFn: MutationFunction<Awaited<ReturnType<typeof uploadImage>>, { data: BodyType<UploadImageBody> }> = (
    props
  ) => {
    const { data } = props ?? {};

    return uploadImage(data);
  };

  return { mutationFn, ...mutationOptions };
};

export type UploadImageMutationResult = NonNullable<Awaited<ReturnType<typeof uploadImage>>>;
export type UploadImageMutationBody = BodyType<UploadImageBody>;
export type UploadImageMutationError = ErrorType<ErrorResponse | UnauthorizedErrorResponse>;

/**
 * @summary ì´ë¯¸ì§€ ì—…ë¡œë“œ
 */
export const useUploadImage = <TError = ErrorType<ErrorResponse | UnauthorizedErrorResponse>, TContext = unknown>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<ReturnType<typeof uploadImage>>,
      TError,
      { data: BodyType<UploadImageBody> },
      TContext
    >;
  },
  queryClient?: QueryClient
): UseMutationResult<
  Awaited<ReturnType<typeof uploadImage>>,
  TError,
  { data: BodyType<UploadImageBody> },
  TContext
> => {
  const mutationOptions = getUploadImageMutationOptions(options);

  return useMutation(mutationOptions, queryClient);
};
/**
 * @summary ì˜ìƒ ì—…ë¡œë“œ
 */
export const uploadVideo = (uploadVideoBody: BodyType<UploadVideoBody>, signal?: AbortSignal) => {
  const formData = new FormData();
  formData.append(`file`, uploadVideoBody.file);
  formData.append(`type`, uploadVideoBody.type);

  return customFetch<UploadVideo200>({
    url: `/api/upload/video`,
    method: "POST",
    headers: { "Content-Type": "multipart/form-data" },
    data: formData,
    signal,
  });
};

export const getUploadVideoMutationOptions = <
  TError = ErrorType<UnauthorizedErrorResponse>,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof uploadVideo>>,
    TError,
    { data: BodyType<UploadVideoBody> },
    TContext
  >;
}): UseMutationOptions<
  Awaited<ReturnType<typeof uploadVideo>>,
  TError,
  { data: BodyType<UploadVideoBody> },
  TContext
> => {
  const mutationKey = ["uploadVideo"];
  const { mutation: mutationOptions } = options
    ? options.mutation && "mutationKey" in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey } };

  const mutationFn: MutationFunction<Awaited<ReturnType<typeof uploadVideo>>, { data: BodyType<UploadVideoBody> }> = (
    props
  ) => {
    const { data } = props ?? {};

    return uploadVideo(data);
  };

  return { mutationFn, ...mutationOptions };
};

export type UploadVideoMutationResult = NonNullable<Awaited<ReturnType<typeof uploadVideo>>>;
export type UploadVideoMutationBody = BodyType<UploadVideoBody>;
export type UploadVideoMutationError = ErrorType<UnauthorizedErrorResponse>;

/**
 * @summary ì˜ìƒ ì—…ë¡œë“œ
 */
export const useUploadVideo = <TError = ErrorType<UnauthorizedErrorResponse>, TContext = unknown>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<ReturnType<typeof uploadVideo>>,
      TError,
      { data: BodyType<UploadVideoBody> },
      TContext
    >;
  },
  queryClient?: QueryClient
): UseMutationResult<
  Awaited<ReturnType<typeof uploadVideo>>,
  TError,
  { data: BodyType<UploadVideoBody> },
  TContext
> => {
  const mutationOptions = getUploadVideoMutationOptions(options);

  return useMutation(mutationOptions, queryClient);
};
